<style>
	.numbin.traingame {
		height: 80px;
		font-size: 32px;
		min-width: 0;
	}
</style>

<div class="wrap marge1">
	<div class="full-width">
		<h1>Train Game</h1>
		<!-- SOLVE THE TRAIN START -->
		<div class="trainContainer">
			<!-- TRAINNNNN GAME -->

			<!-- functional parent for slots -->
			<div class="slots_container">
				<!-- cosmetic extra parent layer for slots -->
				<div class="numberSlots bg-2">
					<div class="numbin traingame" data-value="0" data-min="0" data-max="9" data-loop="true">
                        <input type="number">
                    </div>
					<div class="numbin traingame" data-value="0" data-min="0" data-max="9" data-loop="true">
                        <input type="number">
                    </div>
					<div class="numbin traingame" data-value="0" data-min="0" data-max="9" data-loop="true">
                        <input type="number">
                    </div>
					<div class="numbin traingame" data-value="0" data-min="0" data-max="9" data-loop="true">
                        <input type="number">
                    </div>
				</div>
			</div>

			<div class="test_display marge1" style="text-align: center;">
				0000
			</div>

			<div class="buttonsDiv">
				<button class="toSolve" tabindex="1">Solve</button>
				<button class="toReset" tabindex="1">Reset</button>
			</div>

			<div>
				<div class="howToSolve"></div>

				<div class="solutions">
					<div class="trigger"><i class="fa-solid fa-caret-left hidden" id="leftTrig"></i></div>
					<div class="howManyGregs"></div>
					<div class="trigger"><i class="fa-solid fa-caret-right hidden" id="rightTrig"></i></div>
				</div>
			</div>

		</div>
		<!-- SOLVE THE TRAIN END -->
	</div>
</div>

<script>
	function getNumbersFromInputs(slots) {
		const array = [];
		slots.forEach((slot) => {
			const input = slot.querySelector('input');
			const value = parseInt(input.value, 10) || 0;
			array.push(value);
		});
		return array;
	}

	function printSet() {
		const arr = getNumbersFromInputs(slots);
		// console.log(arr);
		let str = "";
		for (let i = 0; i < arr.length; i++) {
			str += arr[i];
		}
		testDisplay.innerHTML = str;
	}

	function resetInputs() {
		slots.forEach((slot) => {
			const input = slot.querySelector('input');
			input.value = 0;
		});

        for (let i=0; i<slots.length; i++) {
			const input = slots[i].querySelector('input');
			input.value = 0;
            numset[i] = 0;
            printSet();
        }
	}


	const slots = document.querySelectorAll('.numbin.traingame');
	const testDisplay = document.querySelector('.test_display');
	const btn_toSolve = document.querySelector('.toSolve');
	const btn_toReset = document.querySelector('.toReset');
	btn_toSolve.onclick = () => printSet();
	btn_toReset.onclick = () => resetInputs();

    let numset = new Array(4).fill(0);


    document.addEventListener("DOMContentLoaded", () => {
        // numset = getNumbersFromInputs(slots);
        for (let i=0; i<slots.length; i++) {
            const slot = slots[i];
            const input = slot.querySelector('input');
            input.addEventListener("input", () => {
                const value = parseInt(input.value);
                numset[i] = value;
                // console.log(numset);
                printSet();
            });
        }

    })
</script>